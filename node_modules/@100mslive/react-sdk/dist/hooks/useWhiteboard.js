import{__awaiter as o}from"../node_modules/tslib/tslib.es6.mjs.js";import{useState as i,useEffect as e,useCallback as t}from"react";import{selectIsConnectedToRoom as n,selectLocalPeer as d,selectWhiteboard as r,selectAppData as l,selectPermissions as s}from"@100mslive/hms-video-store";import{useHMSStore as v,useHMSActions as m}from"../primitives/HmsRoomProvider.js";const a=(a=!1)=>{var c,u;const p=v(n),b=null===(c=v(d))||void 0===c?void 0:c.customerUserId,f=v(r),w=v(l("disableNotifications")),h=!!(null==f?void 0:f.open),y=(null==f?void 0:f.owner)===b,C=m(),[j,g]=i(!1),k=null===(u=v(s))||void 0===u?void 0:u.whiteboard,x=!!(null==k?void 0:k.includes("admin"));e((()=>{p&&g(C.interactivityCenter.whiteboard.isEnabled)}),[p,C]);const z=t((()=>o(void 0,void 0,void 0,(function*(){p&&x&&(h?y&&(yield C.interactivityCenter.whiteboard.close()):yield C.interactivityCenter.whiteboard.open())}))),[C,y,x,h,p]);return{open:h,token:null==f?void 0:f.token,endpoint:null==f?void 0:f.addr,isOwner:y,isAdmin:x,zoomToContent:w||a,toggle:j&&x?z:void 0}};export{a as useWhiteboard};
//# sourceMappingURL=useWhiteboard.js.map
